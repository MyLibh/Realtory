<?php

//===================================================================================================================
//=====================================================INCLUDES======================================================
//===================================================================================================================

include 'SiteParseInfo.php'; // SiteParseInfo

//===================================================================================================================
//=====================================================CONSTANTS=====================================================
//===================================================================================================================

$SITES = array(
  'Domofond' => new SiteParseInfo('https://www.domofond.ru/prodazha-trehkomnatnuh-kvartir-moskovskaya_oblast-r81',
                                  '|(.*?)|',
                                  '|class="e-tile-price m-blue-link">(.*?)</h2>|',
                                  '|class="e-tile-type m-max-width text-overflow"><strong>(.*?)-комнатная|', // [0]
                                  '|(.*?)|',
                                  '|(.*?)|',
                                  '|class="m-blue-link text-overflow m-max-width">(.*?)</span>|'
                                  ) // domofomd
  );

//===================================================================================================================
//=====================================================FUNCTIONS=====================================================
//===================================================================================================================

function ParseLabel(&$site)
{
    $data = file_get_contents($site->link);
    preg_match_all($site->adress, $data, $parsedData);

    echo SiteParseInfo::$PRICE . ':<br/>';
    foreach($parsedData[1] as $elem)
    {
        echo $elem . '<br/>';
    }
}

//===================================================================================================================
//=======================================================MAIN========================================================
//===================================================================================================================

echo "<h1>Hello, C++, u a my bro!</h1><br/>";

ParseLabel($SITES['Domofond']);

?>